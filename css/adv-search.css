/* adv-search.css — KJPBS 스타일 고급 검색 전용 CSS */
.adv-wrap{display:flex;flex-direction:column;height:100%;overflow:hidden}
.adv-tabs{display:flex;gap:2px;padding:8px 10px 0}
.adv-tab{cursor:pointer}
.adv-input-row{display:flex;gap:4px;padding:6px 10px}
.adv-input{flex:1;background:var(--glass-bg-1);border:1px solid var(--glass-border);border-radius:5px;padding:6px 10px;font-size:12px;color:var(--text);outline:none;transition:border-color .15s}
.adv-input:focus{border-color:var(--gold)}
.adv-search-btn{padding:6px 12px;border-radius:5px;font-size:11px;font-weight:700;background:var(--gold);color:var(--bg);border:none;cursor:pointer;flex-shrink:0}
.adv-help-btn{padding:6px 8px;border-radius:5px;font-size:11px;background:none;color:var(--text3);border:1px solid var(--border);cursor:pointer;flex-shrink:0;transition:color .15s}
.adv-help-btn:hover{color:var(--gold);border-color:var(--gold)}

/* 고급 토글 행 */
.adv-toggle-row{display:flex;gap:3px;padding:2px 10px 4px;align-items:center;border-bottom:1px solid var(--border)}
.adv-toggle-btn{font-size:10px;padding:2px 8px;border-radius:4px;cursor:pointer;color:var(--text3);border:1px solid transparent;transition:all .15s;display:inline-flex;align-items:center;gap:3px}
.adv-toggle-btn.on{color:var(--gold);border-color:var(--gold);background:rgba(212,175,55,.1)}
.adv-toggle-btn:hover{color:var(--gold)}

/* 필터 칩 */
.adv-filter-row{display:flex;gap:4px;padding:2px 10px 4px;align-items:center;flex-wrap:wrap}
.adv-tst-chip{font-size:10px;padding:2px 8px;border-radius:10px;cursor:pointer;border:1px solid var(--border);color:var(--text3);transition:all .15s}
.adv-tst-chip.on{background:var(--gold);color:var(--bg);border-color:var(--gold);font-weight:700}
.adv-book-sel{font-size:10px;background:var(--bg3);border:1px solid var(--border);border-radius:5px;padding:2px 4px;color:var(--text2);outline:none;max-width:90px;cursor:pointer}

/* 옵션 바 */
.adv-opt-row{display:flex;gap:3px;padding:2px 10px 6px;align-items:center;border-bottom:1px solid var(--border)}
.adv-opt-btn,.adv-scope-btn,.adv-vm-btn{font-size:10px;padding:2px 6px;border-radius:4px;cursor:pointer;color:var(--text3);border:1px solid transparent;transition:all .15s}
.adv-opt-btn.on,.adv-scope-btn.on,.adv-vm-btn.on{color:var(--gold);border-color:var(--gold);background:rgba(212,175,55,.1)}
.adv-opt-sep{width:1px;height:14px;background:var(--border);margin:0 2px}

/* 통계 */
.adv-stats{padding:6px 10px;font-size:10px;color:var(--text3);border-bottom:1px solid var(--border)}
.adv-stat-num{color:var(--gold);font-weight:700;font-family:'JetBrains Mono',monospace}
.adv-bar-wrap{padding:4px 10px 6px}
.adv-bar{height:6px;background:var(--bg3);border-radius:3px;overflow:hidden}
.adv-bar-ot{height:100%;background:linear-gradient(90deg,#d4af37,#b8942e);border-radius:3px;transition:width .3s}
.adv-bar-labels{display:flex;justify-content:space-between;font-size:9px;color:var(--text3);margin-top:2px}

/* 결과 영역 */
.adv-results{flex:1;overflow-y:auto;min-height:0}
.adv-empty{padding:20px;text-align:center;color:var(--text3);font-size:12px}
.adv-loading{padding:20px;text-align:center;color:var(--text3)}
.adv-item{padding:6px 10px;cursor:pointer;border-bottom:1px solid var(--glass-border);transition:all .15s}
.adv-item:hover{background:var(--glass-bg-1)}
.adv-ref{display:block;font-size:10px;color:var(--gold);font-family:'JetBrains Mono',monospace;margin-bottom:2px}
.adv-txt{display:block;font-size:11px;color:var(--text2);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.adv-hl{background:rgba(212,175,55,.25);color:var(--gold);border-radius:2px;padding:0 1px}

/* 참조 칩 그리드 */
.adv-ref-grid{display:flex;flex-wrap:wrap;gap:4px;padding:8px 10px}
.adv-ref-chip{font-size:10px;padding:2px 6px;border-radius:4px;background:var(--glass-bg-1);color:var(--text2);cursor:pointer;border:1px solid var(--glass-border);font-family:'JetBrains Mono',monospace;transition:all .15s;box-shadow:var(--glass-highlight)}
.adv-ref-chip:hover{border-color:var(--gold);color:var(--gold)}

/* 트리 뷰 */
.adv-tree-node{border-bottom:1px solid var(--border)}
.adv-tree-head{padding:6px 10px;font-size:11px;font-weight:700;color:var(--text);cursor:pointer;display:flex;align-items:center;gap:4px}
.adv-tree-head:hover{background:rgba(212,175,55,.06)}
.adv-tree-arr{font-size:8px;transition:transform .2s;color:var(--text3)}
.adv-tree-node.open .adv-tree-arr{transform:rotate(90deg)}
.adv-tree-cnt{font-size:9px;color:var(--gold);font-weight:400}
.adv-tree-body{display:none}
.adv-tree-node.open .adv-tree-body{display:block}
.adv-tree-item{padding-left:20px!important}

/* 더 보기 */
.adv-more{display:block;width:calc(100% - 20px);margin:8px 10px;padding:8px;text-align:center;font-size:11px;color:var(--gold);background:rgba(212,175,55,.08);border:1px solid var(--gold);border-radius:5px;cursor:pointer;transition:background .15s}
.adv-more:hover{background:rgba(212,175,55,.15)}

/* 도움말 */
.adv-help{padding:12px}
.adv-help-title{font-size:11px;font-weight:700;color:var(--gold);margin-bottom:8px}
.adv-help-item{font-size:11px;color:var(--text2);padding:3px 0;font-family:'JetBrains Mono',monospace}

/* 라이트 테마 — 웜 로즈 잉크 하이라이트 */
[data-theme="light"] .adv-hl{background:hsla(var(--accent-h),60%,50%,.18);color:hsl(var(--accent-h),var(--accent-s),calc(var(--accent-l) - 8%))}
[data-theme="light"] .adv-ref-chip:hover{color:hsl(var(--accent-h),var(--accent-s),calc(var(--accent-l) - 8%))}
[data-theme="light"] .adv-input{background:var(--glass-bg-1);border-color:var(--glass-border)}
[data-theme="light"] .adv-input:focus{border-color:var(--accent-color)}
[data-theme="light"] .adv-toggle-btn.on{color:var(--accent-color);border-color:var(--accent-color);background:hsla(var(--accent-h),60%,50%,.10)}
[data-theme="light"] .adv-tst-chip{border-color:hsl(0,35%,82%)}
[data-theme="light"] .adv-tst-chip.on{background:var(--accent-color);border-color:var(--accent-color)}
[data-theme="light"] .adv-opt-btn.on,[data-theme="light"] .adv-scope-btn.on,[data-theme="light"] .adv-vm-btn.on{color:var(--accent-color);border-color:var(--accent-color);background:hsla(var(--accent-h),60%,50%,.10)}
[data-theme="light"] .adv-item:hover{background:var(--glass-bg-2)}
[data-theme="light"] .adv-ref-chip{background:var(--glass-bg-1);border-color:var(--glass-border)}
[data-theme="light"] .adv-tree-head:hover{background:var(--glass-bg-2)}
[data-theme="light"] .adv-more{background:hsla(var(--accent-h),60%,50%,.08);border-color:var(--accent-color)}
[data-theme="light"] .adv-more:hover{background:hsla(var(--accent-h),60%,50%,.15)}
[data-theme="light"] .adv-book-sel{background:var(--glass-bg-1);border-color:var(--glass-border)}

/* 세피아 테마 — 따뜻한 하이라이트 */
[data-theme="sepia"] .adv-hl{background:hsla(var(--accent-h),50%,45%,.18);color:hsl(var(--accent-h),var(--accent-s),calc(var(--accent-l) - 5%))}
[data-theme="sepia"] .adv-ref-chip:hover{color:hsl(var(--accent-h),var(--accent-s),calc(var(--accent-l) - 5%))}
