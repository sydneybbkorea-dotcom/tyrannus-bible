═══════════════════════════════════════════════════════════════
  DEVNOTES — Tyrannus 표준킹제임스성경 웹앱 개발 메모
  최종 업데이트: 2026-02
═══════════════════════════════════════════════════════════════


[1. 개발 규칙]

  - 파일당 30줄 이하 권장 (넘으면 분리)
  - 새 파일 첫 줄에 한줄 설명 주석 필수
  - 에러 가능한 부분에 try-catch 안전장치
  - 모바일 대응 필수 (터치 이벤트, 반응형 레이아웃)


[2. 프로젝트 구조]

  index.html      — 메인 HTML (SPA)
  css/            — 스타일시트 10개 모듈
  js/             — 자바스크립트 57+ 모듈
  data/           — 성경 JSON, 주석, Strong's 사전
  fonts/          — KoPubWorld OTF 6종 (자체호스팅)


[3. 배포 (GitHub Pages)]

  저장소: github.com/sydneybbkorea-dotcom/tyrannus-bible
  URL:    sydneybbkorea-dotcom.github.io/tyrannus-bible/
  브랜치: master → 자동 배포

  CSS 변경 시:
    1) css 파일 수정
    2) index.html의 ?v=N 버전 번호 올리기 (캐시 버스팅)
    3) git add → commit → push
    4) 1~2분 후 Ctrl+Shift+R로 확인


[4. 폰트 서식 체계 (번역 원칙)]

  표준킹제임스성경의 표기 원칙에 따라 글꼴로 의미 구분:

  ┌──────────────────┬────────────┬──────────────────────┐
  │ CSS 클래스       │ 글꼴/두께  │ 의미                 │
  ├──────────────────┼────────────┼──────────────────────┤
  │ .vtxt (기본)     │ 바탕 500   │ 일반 본문            │
  │ span.dg          │ 돋움 300   │ 정관사없는 대문자    │
  │                  │            │ (God, Devil, Son)    │
  │ b.dg             │ 돋움 700   │ 전체 대문자          │
  │                  │            │ (LORD, GOD, BRANCH)  │
  │ b:not(.dg)       │ 바탕 700   │ 정관사+소문자 명사   │
  │                  │            │ (the devil, the rock)│
  │ i                │ 바탕 400   │ 원어에 없는 보완 단어│
  └──────────────────┴────────────┴──────────────────────┘

  ※ b.dg.semi (돋움 500)는 폐기됨 → 모두 b.dg로 통합 완료


[5. 하이라이트 색상 (Tailwind 계열)]

  ┌────────┬─────────┬──────────────────────┐
  │ 코드   │ 색상    │ HEX                  │
  ├────────┼─────────┼──────────────────────┤
  │ Y      │ 골드    │ #FACC15              │
  │ O      │ 오렌지  │ #FB923C              │
  │ G      │ 민트    │ #34D399              │
  │ B      │ 블루    │ #60A5FA              │
  │ P      │ 라벤더  │ #C084FC              │
  └────────┴─────────┴──────────────────────┘

  다크 테마: 투명도 0.25~0.30
  라이트 테마: 투명도 0.25~0.35
  행 배경: 투명도 0.10~0.14


[6. 데이터 저장소]

  localStorage 키: 'kjb2'
  저장 항목: 하이라이트(hl), 메모(hlMemo), 범위(hlRanges),
            구절메모(verseMemo), 노트(notes), 설정 등

  Firebase: 클라우드 동기화 (선택적)


[7. 모바일 대응 체크리스트]

  [v] 터치 이벤트 (touchend) — 하이라이트 피커
  [v] getBoundingClientRect 기반 위치 계산
  [v] OS 선택 팝업 회피 (피커를 텍스트 위쪽에 배치)
  [v] 모바일에서 hover 대신 바로 색상 팔레트 표시
  [ ] 반응형 레이아웃 (899px 이하 세로 정렬)
  [ ] 터치 스와이프 네비게이션 (장 이동)
  [ ] 모바일 전용 하단 네비게이션 바


[8. z-index 계층]

  99999  — 컨텍스트 메뉴 (#ctxMenu)
  20000  — 토스트 알림 (#toast)
  10000  — 모달 배경 (.modal-bg)
   9999  — 메모 팝업 (#markMemoPopup)
   9998  — 하이라이트 피커 (#hlPicker)
   8000  — 구절 툴팁 (#vtip)
    500  — 네비게이션 팝업
    200  — 상단바 (#topbar)
     50  — 노트 탐색기


[9. 주의사항]

  - KoPubWorld 폰트는 Light/Medium/Bold만 존재 (Regular 없음)
  - -webkit-text-stroke로 시각적 두께 미세 조절 가능
    (transparent = 가늘게, currentColor = 굵게)
  - bible-kr.json의 HTML 태그는 innerHTML로 렌더링됨
  - bible-en.json의 <i> 태그도 innerHTML로 렌더링됨
  - 성경 데이터 키는 한국어 책 이름 사용 (창세기, 출애굽기 ...)
